# Example environment variables for mein-idaas
# Copy this file to .env and fill the real secrets and values before running.

APP_ENV=example
PORT=4000

# Database (Postgres)
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=mein_idaas
DB_SSLMODE=disable

# JWT / Tokens
# Use long, random secrets for production
JWT_ACCESS_SECRET=your_access_secret_here
JWT_REFRESH_SECRET=your_refresh_secret_here
JWT_ACCESS_TTL=15m            # e.g. 15m for access tokens
JWT_REFRESH_TTL=168h         # 168h = 7d for refresh token rotation
REFRESH_GRACE_PERIOD=24h     # grace period after rotation
JWT_ISSUER=mein-idaas
CLAIM_USER_ID=user_id        # claim name used to store user id inside JWT

# RSA Keys for RS256 JWT signing (PEM-encoded)
# REQUIRED: Generate RSA keys before running:
#   openssl genrsa -out private.pem 2048
#   openssl rsa -in private.pem -pubout -out public.pem
# Then copy the entire content of each file (including BEGIN/END lines)
# and paste as the env values below. Keep newlines as \n
RSA_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n<your_base64_encoded_private_key>\n-----END RSA PRIVATE KEY-----"
RSA_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\n<your_base64_encoded_public_key>\n-----END PUBLIC KEY-----"

# Argon2 Password Hashing Configuration
# Adjust these values based on your security needs and available resources
# WARNING: Changing these values after passwords are created will NOT lock users out
# The original parameters are stored with each password hash
ARGON2_TIME=3                 # Number of iterations (default: 3) - Higher = slower/more secure
ARGON2_MEMORY=65536           # Memory in KB (default: 65536 = 64MB) - Higher = more secure
ARGON2_THREADS=4              # Number of parallel threads (default: 4) - Should match CPU cores
ARGON2_KEY_LENGTH=32          # Output hash length in bytes (default: 32) - Higher = more secure
ARGON2_SALT_LENGTH=16         # Salt length in bytes (default: 16) - Higher = more unique

# Email (SMTP) - adjust to your local setup
SMTP_HOST=your.host.com
SMTP_PORT=your port
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_SENDER_NAME="your-app-name"

# Swagger
SWAGGER_DOC_PATH=/swagger/doc.json
SWAGGER_HOST=localhost:4000

# Cookies
COOKIE_PATH=/api/v1/auth

# Logging
LOG_LEVEL=debug

# Other notes:
# - Never commit a real .env to source control. Add .env to .gitignore (already present).
# - Use secure, randomly generated secrets in production.
# - RSA keys are required for token signing. Generate them using openssl or similar tools.
